;/*FB_PKG_DELIM*/

__d("PolarisAPIDeleteCollection",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/collections/{collection_id}/delete/",{path:{collection_id:a}})}g.deleteCollection=a}),98);
__d("PolarisAPIFetchSavedCollection",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiGet("/api/v1/feed/collection/{collection_id}/all/",{path:{collection_id:a},query:{max_id:b}}).then(function(a){return a.data})}g.fetchSavedCollection=a}),98);
__d("PolarisSavedCollectionFastOptionsButton.react",["fbt","IGDSMoreHorizontalPanoOutlineIcon.react","PolarisIGCoreSVGIconButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__ynawkFUDMf___JHASH__");function a(a){var b=j(3);a=a.onClick;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:l,color:"ig-primary-text"}),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:a,padding:0,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("PolarisCollectionPageLayout.react",["IGDSBox.react","IGDSChevronIcon.react","IGDSSpinner.react","IGDSText.react","PolarisFastLink.react","PolarisGenericStrings","PolarisLinkBuilder","PolarisReactRedux.react","PolarisSavedCollectionFastOptionsButton.react","PolarisSavedCollectionStrings","PolarisSavedPostsTypes","PolarisUA","polarisUserSelectors","react","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=1030,l=d("PolarisUA").isDesktop(),m=[d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.AUDIO_AUTO_COLLECTION];function a(a){var b=i(11),e=a.children,f=a.collectionId,g=a.collectionLoading,h=a.collectionName,n=a.setShowOptions,o=a.userId;a=c("usePolarisDisplayProperties")();a=a.viewportWidth;a=a<k;var p;b[0]!==o?(p=function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,o)},b[0]=o,b[1]=p):p=b[1];p=d("PolarisReactRedux.react").useSelector(p);p=p.username!=null?d("PolarisLinkBuilder").buildUserPathLink(p.username,"saved"):!1;var q;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q="x1qjc9v5 x972fbf xcfux6l x1qhh985 xm0m39n x9f619 x78zum5 xdt5ytf x1iyjqo2 x2lah0s xln7xf2 xk390pu xdj266r xkrivgy x4n8cb0 x1gryazu x1ykew4q xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf xh8yej3",b[2]=q):q=b[2];b[3]!==g||b[4]!==p||b[5]!==a||b[6]!==h||b[7]!==f||b[8]!==n||b[9]!==e?(q=j.jsx("div",{className:q,children:g?j.jsx(c("IGDSBox.react"),{marginTop:16,position:"relative",children:j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})}):j.jsxs(c("IGDSBox.react"),{marginTop:6,position:"relative",children:[l&&p&&j.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",marginBottom:4,position:"relative",children:j.jsx(c("PolarisFastLink.react"),{href:p,children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[j.jsx(c("IGDSChevronIcon.react"),{alt:d("PolarisGenericStrings").BACK_TEXT,color:"ig-secondary-text",direction:"back",size:18}),j.jsx(c("IGDSBox.react"),{padding:1,position:"relative",children:j.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",children:d("PolarisSavedCollectionStrings").SAVED_TEXT})})]})})}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:3,position:"relative",children:[j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx(c("IGDSBox.react"),{alignItems:"stretch",marginEnd:a?4:0,marginStart:a?4:0,position:"relative",children:j.jsx(c("IGDSText.react").Title,{children:h})})}),j.jsx(c("IGDSBox.react"),{position:"relative",children:m.indexOf(f)===-1&&n!=null&&l&&j.jsx(c("PolarisSavedCollectionFastOptionsButton.react"),{onClick:function(){return n(!0)}})})]}),e]})}),b[3]=g,b[4]=p,b[5]=a,b[6]=h,b[7]=f,b[8]=n,b[9]=e,b[10]=q):q=b[10];return q}g["default"]=a}),98);
__d("PolarisEditCollectionModal.react",["IGCoreDialog.react","IGCoreModal.react","IGDSBox.react","PolarisGenericStrings","PolarisIGCoreModalHeader.react","PolarisIGCoreTextInput.react","PolarisLinkBuilder","PolarisReactRedux.react","PolarisSavedCollectionStrings","PolarisSavedPostsActionEditCollection","PolarisUrlHelpers","Promise","browserHistory_DO_NOT_USE","nullthrows","react","usePolarisShowToast","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useState,l=e.c;function a(a){var e=l(24),f=a.collectionId,g=a.currentCollectionName,i=a.onClose,m=a.pageIdentifier,n=d("PolarisReactRedux.react").useDispatch(),o=c("usePolarisShowToast")();a=k(g);var p=a[0],q=a[1];g=k(!1);a=g[0];var r=g[1],s=c("nullthrows")(c("usePolarisViewer")());g=p.replace(/\s+/g,"").length===0;var t;e[0]!==n||e[1]!==f||e[2]!==p||e[3]!==m||e[4]!==s.id||e[5]!==s.username||e[6]!==i||e[7]!==o?(t=function(){r(!0),(h||(h=b("Promise"))).resolve(n(d("PolarisSavedPostsActionEditCollection").editCollection({collectionId:f,collectionName:p,source:m,userId:s.id}))).then(function(){r(!1);var a=d("PolarisLinkBuilder").buildUserSavedCollectionLink(c("nullthrows")(s.username),d("PolarisUrlHelpers").slugify(p),f);d("browserHistory_DO_NOT_USE").browserHistory.replace(a);i()})["catch"](function(){r(!1),o({text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})})},e[0]=n,e[1]=f,e[2]=p,e[3]=m,e[4]=s.id,e[5]=s.username,e[6]=i,e[7]=o,e[8]=t):t=e[8];t=t;var u;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=j.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:d("PolarisSavedCollectionStrings").EDIT_COLLECTION_TEXT}),e[9]=u):u=e[9];e[10]!==i?(u=j.jsx(c("PolarisIGCoreModalHeader.react"),{onClose:i,children:u}),e[10]=i,e[11]=u):u=e[11];var v;e[12]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(a){return q(a.target.value)},e[12]=v):v=e[12];e[13]!==p?(v=j.jsx(c("IGDSBox.react"),{margin:5,position:"relative",children:j.jsx(c("PolarisIGCoreTextInput.react"),{autoFocus:!0,name:"collectionName",onChange:v,placeholder:d("PolarisSavedCollectionStrings").COLLECTION_NAME_TEXT,value:p})}),e[13]=p,e[14]=v):v=e[14];g=g||a;var w;e[15]!==g||e[16]!==a||e[17]!==t?(w=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",disabled:g,loading:a,onClick:t,children:d("PolarisGenericStrings").DONE_TEXT}),e[15]=g,e[16]=a,e[17]=t,e[18]=w):w=e[18];e[19]!==i||e[20]!==u||e[21]!==v||e[22]!==w?(g=j.jsxs(c("IGCoreModal.react"),{"aria-label":d("PolarisSavedCollectionStrings").EDIT_COLLECTION_TEXT,onClose:i,children:[u,v,w]}),e[19]=i,e[20]=u,e[21]=v,e[22]=w,e[23]=g):g=e[23];return g}g["default"]=a}),98);
__d("PolarisSavedCollectionPageOptionsDialog.react",["IGCoreDialog.react","PolarisGenericStrings","PolarisSavedCollectionStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(14),c=a.onAddFromSaved,e=a.onClose,f=a.onDeleteCollection;a=a.onEditCollection;var g;b[0]!==f?(g=f!=null&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:f,children:d("PolarisSavedCollectionStrings").DELETE_COLLECTION_TEXT}),b[0]=f,b[1]=g):g=b[1];b[2]!==c?(f=c!=null&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:c,children:d("PolarisSavedCollectionStrings").ADD_FROM_SAVED_TEXT}),b[2]=c,b[3]=f):f=b[3];b[4]!==a?(c=a!=null&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:a,children:d("PolarisSavedCollectionStrings").EDIT_COLLECTION_TEXT}),b[4]=a,b[5]=c):c=b[5];b[6]!==e?(a=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[6]=e,b[7]=a):a=b[7];var h;b[8]!==e||b[9]!==g||b[10]!==f||b[11]!==c||b[12]!==a?(h=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:e,children:[g,f,c,a]}),b[8]=e,b[9]=g,b[10]=f,b[11]=c,b[12]=a,b[13]=h):h=b[13];return h}g["default"]=a}),98);
__d("PolarisSavedPostsActionDeleteCollection",["PolarisAPIDeleteCollection","PolarisGenericStrings","PolarisSavedPostsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,c=a.failureHandler,e=a.source,f=a.successHandler,g=a.userId;return function(a){a({type:"DELETE_COLLECTION_PENDING",userId:g});d("PolarisSavedPostsLogger").logDeleteCollection("attempt",e);return d("PolarisAPIDeleteCollection").deleteCollection(b).then(function(){a({type:"DELETE_COLLECTION_SUCCESS",userId:g}),d("PolarisSavedPostsLogger").logDeleteCollection("success",e),f&&f()})["catch"](function(){a({toast:{text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"DELETE_COLLECTION_ERRORED",userId:g}),d("PolarisSavedPostsLogger").logDeleteCollection("failure",e),c&&c()})}}g.deleteCollection=a}),98);
__d("PolarisSavedPostsActionRequestTabbedSavedCollection",["PolarisAPIFetchSavedCollection","PolarisGenericStrings","nullthrows","polarisNormalizeCollections","polarisSavedPostsSelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.collectionId,e=a.retryHandler,f=a.userId;return function(a,g){a({collectionId:b,type:"SAVED_TABBED_COLLECTION_LOADING",userId:f});g=d("polarisSavedPostsSelectors").getSavedCollectionsMediaPaginationForUser(g(),{collectionId:b,userId:f});return d("PolarisAPIFetchSavedCollection").fetchSavedCollection(b,g.cursor!=null?g.cursor:"").then(function(b){b=b.save_media_response;var e=d("polarisNormalizeCollections").normalizeTabbedSavedCollection(c("nullthrows")(b));b=c("nullthrows")(b).items.map(function(a){return a.media});a({collection:e,pagination:e.pagination,posts:b,type:"SAVED_TABBED_COLLECTION_UPDATED",userId:f})})["catch"](function(){a({collectionId:b,toast:{actionHandler:e,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT},type:"SAVED_TABBED_COLLECTION_ERRORED",userId:f})})}}function i(a,b){var c=function(){return i(a,b)};return function(d){return d(h({collectionId:a,retryHandler:c,userId:b}))}}g.requestTabbedSavedCollection=i}),98);
__d("PolarisSavedCollectionPage.react",["fbt","IGDSBox.react","PolarisAddCollectionModal.react","PolarisCollectionPageLayout.react","PolarisConfirmDialog.react","PolarisEditCollectionModal.react","PolarisLinkBuilder","PolarisMediaImpressionsLogger","PolarisPageMetadata.react","PolarisPostActionAddPostToCollection","PolarisProfileEmptyState.react","PolarisProfileEmptyStateTypes","PolarisProfileMediaBrowser.react","PolarisReactRedux.react","PolarisSavedCollectionPageOptionsDialog.react","PolarisSavedPostsActionDeleteCollection","PolarisSavedPostsActionRequestSavedCollectionPosts","PolarisSavedPostsActionRequestTabbedSavedCollection","PolarisShell.react","PolarisUA","browserHistory_DO_NOT_USE","nullthrows","polarisSavedPostsSelectors","polarisUserSelectors","react","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m=b.c,n="SavedCollectionPage",o=h._("__JHASH__FAt50qjLu2F__JHASH__");function p(a,b){return a===0&&b.moreAvailable&&!b.isFetching}function a(a){var b=m(32),e=a.collectionId,f=a.userId;a=l(!1);var g=a[0],i=a[1];a=l(!1);var q=a[0],r=a[1];a=l(!1);var s=a[0],t=a[1];a=l(!1);var u=a[0],v=a[1];a=l(!1);var w=a[0],x=a[1];a=l(!1);var y=a[0],z=a[1],A=d("PolarisReactRedux.react").useDispatch();b[0]!==f?(a=function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,f)},b[0]=f,b[1]=a):a=b[1];a=d("PolarisReactRedux.react").useSelector(a);var B=d("PolarisLinkBuilder").buildUserPathLink(c("nullthrows")(a.username),"saved"),C=c("usePolarisDisplayProperties")();C=C.viewportWidth;var D;b[2]!==e||b[3]!==f?(D=function(){return d("PolarisSavedPostsActionRequestSavedCollectionPosts").requestSavedCollectionPosts(e,f)},b[2]=e,b[3]=f,b[4]=D):D=b[4];var E=D;b[5]!==e||b[6]!==f?(D=function(a){return d("polarisSavedPostsSelectors").getSavedCollectionByCollectionIdForUser(a,{collectionId:e,userId:f})},b[5]=e,b[6]=f,b[7]=D):D=b[7];var F=d("PolarisReactRedux.react").useSelector(D);b[8]!==e||b[9]!==f?(D=function(a){return d("polarisSavedPostsSelectors").getVisiblePostsSavedByUserFromCollection(a,{collectionId:e,userId:f})},b[8]=e,b[9]=f,b[10]=D):D=b[10];var G=d("PolarisReactRedux.react").useSelector(D);D=function(){z(!0),A(d("PolarisSavedPostsActionDeleteCollection").deleteCollection({collectionId:e,failureHandler:function(){z(!1)},source:n,successHandler:function(){d("browserHistory_DO_NOT_USE").redirect(B)},userId:f}))};k(function(){F==null&&A(d("PolarisSavedPostsActionRequestTabbedSavedCollection").requestTabbedSavedCollection(e,f))},[F,e,f,A]);k(function(){(F==null||p(G?G.length:0,F.pagination))&&A(E())},[F,A,G,E]);var H=F==null||F.id===""||G.length===0&&F.pagination.moreAvailable,I;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(I=d("PolarisUA").isDesktop(),b[11]=I):I=b[11];I=I;var J=function(a){A(d("PolarisPostActionAddPostToCollection").addPostToCollection({collectionId:e,failureHandler:function(){x(!1)},postIds:a,successHandler:function(){x(!1),r(!1)}}))},K=c("IGDSBox.react"),L="relative",M;b[12]!==g?(M=g&&j.jsx(c("PolarisSavedCollectionPageOptionsDialog.react"),{onAddFromSaved:function(){i(!1),r(!0)},onClose:function(){return i(!1)},onDeleteCollection:function(){i(!1),t(!0)},onEditCollection:function(){i(!1),v(!0)}}),b[12]=g,b[13]=M):M=b[13];g=s&&j.jsx(c("PolarisConfirmDialog.react"),{body:h._("__JHASH__m5yQqrirngM__JHASH__"),confirmLabel:h._("__JHASH__P_EuKfjZGwk__JHASH__"),destructiveConfirm:!0,onClose:function(){t(!1)},onConfirm:D,requestInFlight:y,title:h._("__JHASH__uDpfDIYhJq6__JHASH__")});s=G.length>0?j.jsx(c("PolarisProfileMediaBrowser.react"),{isFetching:c("nullthrows")(F).pagination.isFetching,isOldestPostLoaded:!c("nullthrows")(F).pagination.moreAvailable,maxPostsToDisplay:G.length,mediaLinkBuilder:function(a){return d("PolarisLinkBuilder").buildMediaLink(a)},onPostImpression:function(a){return d("PolarisMediaImpressionsLogger").logImpressionForPost(a,"savedCollection")},onRequestFirst:function(){return A(E())},onRequestNext:function(){return A(E())},posts:G,user:a,viewportWidth:C},"savedCollectionMedia"):j.jsx(c("PolarisProfileEmptyState.react"),{buttonClick:function(){return r(!0)},type:d("PolarisProfileEmptyStateTypes").PROFILE_EMPTY_STATE_KEYS.SAVED_COLLECTION});D=q&&I&&j.jsx(c("PolarisAddCollectionModal.react"),{allowEmptySelection:!1,onClose:function(){return r(!1)},onDone:function(a){x(!0),J(a)},requestInFlight:w});y=u&&I&&j.jsx(c("PolarisEditCollectionModal.react"),{collectionId:e,currentCollectionName:c("nullthrows")(F).name,onClose:function(){return v(!1)},pageIdentifier:n});b[14]!==K||b[15]!==M||b[16]!==g||b[17]!==s||b[18]!==D||b[19]!==y?(a=j.jsxs(K,{position:L,children:[M,g,s,D,y]}),b[14]=K,b[15]=M,b[16]=g,b[17]=s,b[18]=D,b[19]=y,b[20]=a):a=b[20];C=a;q=F!=null?F.name:o;b[21]!==q?(w=j.jsx(c("PolarisPageMetadata.react"),{id:n,title:q}),b[21]=q,b[22]=w):w=b[22];u=F!=null?F.name:o;b[23]!==e||b[24]!==H||b[25]!==u||b[26]!==f||b[27]!==C?(I=j.jsx(c("PolarisCollectionPageLayout.react"),{collectionId:e,collectionLoading:H,collectionName:u,setShowOptions:i,userId:f,children:C}),b[23]=e,b[24]=H,b[25]=u,b[26]=f,b[27]=C,b[28]=I):I=b[28];b[29]!==w||b[30]!==I?(L=j.jsxs(c("PolarisShell.react"),{pageIdentifier:n,children:[w,I]}),b[29]=w,b[30]=I,b[31]=L):L=b[31];return L}g.PAGE_ID=n;g.SavedCollectionPage=a}),226);
__d("PolarisSavedCollectionsRoot.react",["PolarisProfileActions","PolarisSavedCollectionPage.react","PolarisSavedPostsTypes","react","usePolarisGetQuerySetup","usePolarisPreloadedGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3);a=a.props;var e=a.routeParams.collection_id;a=a.routeProps;var f=a.collection_owner_id;a=a.polaris_preload;a=c("usePolarisPreloadedGetQuery")(a.profile);c("usePolarisGetQuerySetup")(a,d("PolarisProfileActions").setupProfilePage);e=(a=e)!=null?a:d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;b[0]!==e||b[1]!==f?(a=j.jsx(d("PolarisSavedCollectionPage.react").SavedCollectionPage,{collectionId:e,userId:f}),b[0]=e,b[1]=f,b[2]=a):a=b[2];return a}g["default"]=a}),98);